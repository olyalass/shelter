(()=>{"use strict";class t{container;burgerIcon;burgerContainer;burgerMenu;darkBackground;linksArray;isSmallScreen;constructor(t,e){let s,i,n;this.container=document.createElement("nav"),this.container.classList.add("nav"),"About"===e?(s=this.createLink("About the shelter","#",t,!0),i=this.createLink("Our pets","https://olyalass.github.io/shelter/build/pets.html",t),n=this.createLink("Help the shelter","#help",t)):(s=this.createLink("About the shelter","https://olyalass.github.io/shelter/build/index.html",t),i=this.createLink("Our pets","#",t,!0),n=this.createLink("Help the shelter","https://olyalass.github.io/shelter/build/index.html#help",t));const a=this.createLink("Contacts","#footer",t);this.linksArray=[s,i,n,a],this.setLayoutToWidth(t),window.addEventListener("resize",(()=>{this.setLayoutToWidth(t)}))}createLink(t,e,s,i=!1){const n=document.createElement("a");return n.classList.add("nav__link"),n.textContent=t,n.setAttribute("href",e),s?i?n.classList.add("nav__link_light","nav__link_active","nav__link_light_active"):n.classList.add("nav__link_light"):i?n.classList.add("nav__link_dark","nav__link_active","nav__link_dark_active"):n.classList.add("nav__link_dark"),n.addEventListener("click",(t=>{this.burgerMenu&&(t.preventDefault(),this.closeBurger(),setTimeout((()=>{window.location.replace(e)}),1e3))})),n}setLayoutToWidth(t){this.burgerContainer&&(this.burgerContainer.classList.remove("burger__container_open"),this.burgerIcon.removeEventListener("click",this.openCloseBurger),this.darkBackground.removeEventListener("click",this.closeBurger)),this.container.innerHTML="",window.matchMedia("(max-width: 767px)").matches?(this.darkBackground=document.createElement("div"),this.darkBackground.classList.add("burger__bg"),this.burgerIcon=document.createElement("div"),this.burgerIcon.classList.add("burger__img"),this.createIcon(t),this.burgerMenu=document.createElement("div"),t?this.burgerMenu.classList.add("burger__menu","burger__menu_light"):this.burgerMenu.classList.add("burger__menu"),this.burgerContainer=document.createElement("div"),this.burgerContainer.classList.add("burger__container"),this.burgerContainer.classList.remove("burger__container_open"),this.burgerIcon.addEventListener("click",(()=>this.openCloseBurger())),this.darkBackground.addEventListener("click",(()=>this.closeBurger())),this.burgerMenu.append(this.burgerContainer),this.linksArray.forEach((t=>{t.classList.remove("nav__link_open"),t.addEventListener("click",(()=>this.closeBurger())),this.burgerContainer.append(t)})),this.container.append(this.burgerIcon,this.burgerMenu,this.darkBackground)):(this.container.innerHTML="",this.linksArray.forEach((t=>this.container.append(t))))}openCloseBurger(){this.burgerIcon.classList.contains("burger__img_open")?this.closeBurger(this.linksArray):this.openBurger(this.linksArray)}openBurger(){this.burgerMenu.classList.add("burger__menu_open"),this.burgerIcon.classList.add("burger__img_open"),this.darkBackground.classList.add("burger__bg_open"),document.body.style.position="fixed",document.body.style.overflow="hidden",document.body.style.width="100vw",setTimeout((()=>{this.burgerContainer.classList.add("burger__container_open"),this.burgerContainer.style.width="243px",this.linksArray.forEach((t=>{t.classList.add("nav__link_open")}))}),400)}closeBurger(){this.burgerContainer.classList.remove("burger__container_open"),document.body.style.position="",document.body.style.overflow="",this.linksArray.forEach((t=>{t.classList.remove("nav__link_open")})),setTimeout((()=>{this.burgerMenu.classList.remove("burger__menu_open"),this.burgerIcon.classList.remove("burger__img_open"),this.darkBackground.classList.remove("burger__bg_open"),this.burgerContainer.style.width="0px"}),400)}createIcon(t){for(let e=0;e<3;e++){const e=document.createElement("div");t?e.classList.add("burger__line","burger__line_light"):e.classList.add("burger__line"),this.burgerIcon.append(e)}}}class e{container;darkBG;petObj;popup;scroll;constructor(t){this.container=document.createElement("div"),this.container.classList.add("card"),this.petObj=t;const e=document.createElement("img");e.classList.add("card__img"),e.setAttribute("src",this.petObj.img),e.setAttribute("alt",this.petObj.name);const s=document.createElement("h4");s.classList.add("card__name"),s.textContent=this.petObj.name;const i=document.createElement("button");i.classList.add("button"),i.textContent="Learn more",this.container.append(e,s,i),this.container.addEventListener("click",(()=>this.openPopup()))}createPopup(){this.popup=document.createElement("div"),this.popup.classList.add("popup"),this.popup.addEventListener("click",(t=>t.stopPropagation()));const t=document.createElement("div");t.classList.add("popup__container");const e=document.createElement("img");e.setAttribute("src",this.petObj.img),e.classList.add("popup__img"),this.popup.append(e,t);const s=document.createElement("button");s.classList.add("button"),s.addEventListener("click",(t=>this.closePopup()));const i=document.createElement("h2");i.classList.add("popup__title"),i.textContent=this.petObj.name;const n=document.createElement("h3");n.textContent=`${this.petObj.type} - ${this.petObj.breed}`,n.classList.add("popup__subtitle");const a=document.createElement("p");a.classList.add("popup__text"),a.textContent=this.petObj.description;const o=document.createElement("ul");o.classList.add("popup__list");const r=this.createListItem("Age",this.petObj.age),d=this.createListItem("Inoculations",this.petObj.inoculations),c=this.createListItem("Diseases",this.petObj.diseases),l=this.createListItem("Parasites",this.petObj.parasites);o.append(r,d,c,l),t.append(i,n,a,o,s),this.darkBG.append(this.popup)}openPopup(){this.darkBG=document.createElement("div"),this.darkBG.classList.add("popup__bg"),this.darkBG.addEventListener("click",(()=>this.closePopup())),document.body.append(this.darkBG),this.scroll=window.scrollY,this.createPopup(),document.body.style.position="fixed",document.body.style.overflow="hidden",document.body.style.width="100vw",document.body.style.top=`-${this.scroll}px`}closePopup(t){this.darkBG.remove(),document.body.style.position="",document.body.style.overflow="",document.body.style.top="",document.children[0].style.scrollBehavior="auto",window.scrollTo(0,this.scroll),document.children[0].style.scrollBehavior="smooth"}createListItem(t,e){const s=document.createElement("li");s.classList.add("popup__li");const i=document.createElement("span"),n=document.createElement("span");return n.classList.add("popup__span"),n.textContent=`${t}: `,Array.isArray(e)?i.textContent=e.join(", "):i.textContent=e,s.append(n,i),s}}const s=JSON.parse('[{"name":"Jennifer","img":"./images/pets-jennifer.jpg","type":"Dog","breed":"Labrador","description":"Jennifer is a sweet 2 months old Labrador that is patiently waiting to find a new forever home. This girl really enjoys being able to go outside to run and play, but won\'t hesitate to play up a storm in the house if she has all of her favorite toys.","age":"2 months","inoculations":["none"],"diseases":["none"],"parasites":["none"]},{"name":"Sophia","img":"./images/pets-sophia.jpg","type":"Dog","breed":"Shih tzu","description":"Sophia here and I\'m looking for my forever home to live out the best years of my life. I am full of energy. Everyday I\'m learning new things, like how to walk on a leash, go potty outside, bark and play with toys and I still need some practice.","age":"1 month","inoculations":["parvovirus"],"diseases":["none"],"parasites":["none"]},{"name":"Woody","img":"./images/pets-woody.jpg","type":"Dog","breed":"Golden Retriever","description":"Woody is a handsome 3 1/2 year old boy. Woody does know basic commands and is a smart pup. Since he is on the stronger side, he will learn a lot from your training. Woody will be happier when he finds a new family that can spend a lot of time with him.","age":"3 years 6 months","inoculations":["adenovirus","distemper"],"diseases":["right back leg mobility reduced"],"parasites":["none"]},{"name":"Scarlett","img":"./images/pets-scarlet.jpg","type":"Dog","breed":"Jack Russell Terrier","description":"Scarlett is a happy, playful girl who will make you laugh and smile. She forms a bond quickly and will make a loyal companion and a wonderful family dog or a good companion for a single individual too since she likes to hang out and be with her human.","age":"3 months","inoculations":["parainfluenza"],"diseases":["none"],"parasites":["none"]},{"name":"Katrine","img":"./images/pets-katrine.jpg","type":"Cat","breed":"British Shorthair","description":"Katrine is a beautiful girl. She is as soft as the finest velvet with a thick lush fur. Will love you until the last breath she takes as long as you are the one. She is picky about her affection. She loves cuddles and to stretch into your hands for a deeper relaxations.","age":"6 months","inoculations":["panleukopenia"],"diseases":["none"],"parasites":["none"]},{"name":"Timmy","img":"./images/pets-timmy.jpg","type":"Cat","breed":"British Shorthair","description":"Timmy is an adorable grey british shorthair male. He loves to play and snuggle. He is neutered and up to date on age appropriate vaccinations. He can be chatty and enjoys being held. Timmy has a lot to say and wants a person to share his thoughts with.","age":"2 years 3 months","inoculations":["calicivirus","viral rhinotracheitis"],"diseases":["kidney stones"],"parasites":["none"]},{"name":"Freddie","img":"./images/pets-freddie.jpg","type":"Cat","breed":"British Shorthair","description":"Freddie is a little shy at first, but very sweet when he warms up. He likes playing with shoe strings and bottle caps. He is quick to learn the rhythms of his humanâ€™s daily life. Freddie has bounced around a lot in his life, and is looking to find his forever home.","age":"2 months","inoculations":["rabies"],"diseases":["none"],"parasites":["none"]},{"name":"Charly","img":"./images/pets-charly.jpg","type":"Dog","breed":"Jack Russell Terrier","description":"This cute boy, Charly, is three years old and he likes adults and kids. He isnâ€™t fond of many other dogs, so he might do best in a single dog home. Charly has lots of energy, and loves to run and play. We think a fenced yard would make him very happy.","age":"8 years","inoculations":["bordetella bronchiseptica","leptospirosis"],"diseases":["deafness","blindness"],"parasites":["lice","fleas"]}]'),i=document.querySelector("body"),n=new class{item;constructor(e,s){this.item=document.createElement("header"),e?this.item.classList.add("header","header_light"):this.item.classList.add("header","header_dark");const i=document.createElement("div");i.classList.add("header__container"),e?i.classList.add("header__container","header__container_light"):i.classList.add("header__container");const n=document.createElement("a");n.classList.add("logo"),"About"===s?n.setAttribute("href","#"):n.setAttribute("href","https://olyalass.github.io/shelter/build/index.html");const a=document.createElement("h1");e?a.classList.add("logo__title","logo__title_light"):a.classList.add("logo__title","logo__title_dark"),a.textContent="Cozy House";const o=document.createElement("p");e?o.classList.add("logo__text","logo__text_light"):o.classList.add("logo__text","logo__text_dark"),o.textContent="Shelter for pets in Boston",n.append(a,o);const r=new t(e,s);if(i.append(n,r.container),"About"===s){const t=document.createElement("div");t.classList.add("not-only");const e=document.createElement("div");e.classList.add("not-only__container");const s=document.createElement("h2");s.textContent="Not only people need a house",s.classList.add("not-only__title");const n=document.createElement("p");n.classList.add("not-only__text"),n.textContent="We offer to give a chance to a little and nice puppy with an extremely wide and open heart. He or she will love you more than anybody else in the world, you will see!";const a=document.createElement("a");a.textContent="Make a friend",a.setAttribute("href","#friends"),a.classList.add("button","button_filled"),e.append(s,n,a);const o=document.createElement("div");o.classList.add("not-only__img"),t.append(e,o),this.item.append(i,t)}else this.item.appendChild(i)}}(!0,"Pets"),a=new class{item;constructor(){this.item=document.createElement("footer"),this.item.classList.add("footer"),this.item.setAttribute("id","footer");const t=document.createElement("div");t.classList.add("footer__container"),this.item.append(t);const e=document.createElement("div");e.classList.add("footer__wrap");const s=document.createElement("div");s.classList.add("footer__img"),t.append(e,s);const i=document.createElement("div");i.classList.add("footer__block");const n=document.createElement("div");n.classList.add("footer__block"),e.append(i,n);const a=document.createElement("h3");a.classList.add("footer__title"),a.textContent="For questions and suggestions";const o=document.createElement("div");o.classList.add("footer__contact");const r=document.createElement("div");r.classList.add("footer__email");const d=document.createElement("a");d.classList.add("footer__contact__text"),d.setAttribute("href","mailto:email@shelter.com"),d.textContent="email@shelter.com",o.append(r,d);const c=document.createElement("div");c.classList.add("footer__contact");const l=document.createElement("div");l.classList.add("footer__phone");const h=document.createElement("a");h.textContent="+13 674 567 75 54",h.classList.add("footer__contact__text"),h.setAttribute("href","tel:+13 674 567 75 54"),c.append(l,h),i.append(a,o,c);const u=document.createElement("h3");u.classList.add("footer__title"),u.textContent="We are waiting for your visit";const m=document.createElement("div");m.classList.add("footer__contact");const p=document.createElement("div");p.classList.add("footer__loc");const g=document.createElement("a");g.classList.add("footer__contact__text"),g.setAttribute("href","https://goo.gl/maps/8kGqPZ8Bd8vAznAM8"),g.setAttribute("target","_blank"),g.textContent="1 Central Street, Boston (entrance from the store)",m.append(p,g);const _=document.createElement("div");_.classList.add("footer__contact");const b=document.createElement("div");b.classList.add("footer__loc");const y=document.createElement("a");y.textContent="18 South Park, London",y.classList.add("footer__contact__text"),y.setAttribute("target","_blank"),y.setAttribute("href","https://goo.gl/maps/fXCgJvgwJZkA12wB8"),_.append(b,y),n.append(u,m,_)}},o=new class{item;firstButton;prevButton;nextButton;lastButton;pageIndex;animalsArr;frPage;generatedArr;dividedArr;pageNum;width;constructor(){this.item=document.createElement("div"),this.item.classList.add("friends-page");const t=document.createElement("div");t.classList.add("friends-page__container"),this.item.appendChild(t);const e=document.createElement("h3");e.classList.add("friends-page__title"),e.innerHTML="Our friends who<br>are looking for a house",this.frPage=document.createElement("div"),this.frPage.classList.add("friends-page__page");const i=document.createElement("div");i.classList.add("friends-page__nav"),t.append(e,this.frPage,i),this.firstButton=this.createButton("<<"),this.prevButton=this.createButton("<"),this.nextButton=this.createButton(">"),this.lastButton=this.createButton(">>"),this.pageIndex=document.createElement("button"),this.pageIndex.classList.add("friends-page__index"),i.append(this.firstButton,this.prevButton,this.pageIndex,this.nextButton,this.lastButton),this.animalsArr=s,this.setLayoutToWidth(),window.addEventListener("resize",(()=>{this.changeLayoutToWidth()})),this.pageIndex.textContent=`${this.pageNum+1}`,this.prevButton.addEventListener("click",(()=>this.goToPage(this.pageNum-1))),this.firstButton.addEventListener("click",(()=>this.goToPage(0))),this.nextButton.addEventListener("click",(()=>this.goToPage(this.pageNum+1))),this.lastButton.addEventListener("click",(()=>this.goToLastPage()))}blockButtons(){const t=window.matchMedia("(max-width: 1250px)").matches,e=window.matchMedia("(max-width: 767px)").matches;0===this.pageNum?(this.prevButton.setAttribute("disabled",!0),this.firstButton.setAttribute("disabled",!0)):(this.prevButton.removeAttribute("disabled"),this.firstButton.removeAttribute("disabled")),e&&15===this.pageNum||t&&7===this.pageNum?(this.nextButton.setAttribute("disabled",!0),this.lastButton.setAttribute("disabled",!0)):t||5!==this.pageNum?(this.nextButton.removeAttribute("disabled"),this.lastButton.removeAttribute("disabled")):(this.nextButton.setAttribute("disabled",!0),this.lastButton.setAttribute("disabled",!0))}goToLastPage(){const t=window.matchMedia("(max-width: 1250px)").matches;window.matchMedia("(max-width: 767px)").matches?this.goToPage(15):t?this.goToPage(7):this.goToPage(5)}goToPage(t){this.pageNum=t,this.frPage.innerHTML="",this.createCards(this.dividedArr[t]),this.pageIndex.textContent=`${this.pageNum+1}`,this.blockButtons()}setLayoutToWidth(){const t=window.matchMedia("(max-width: 1250px)").matches,e=window.matchMedia("(max-width: 767px)").matches;this.pageNum=0,this.generateRandomArray(),e?(this.restructureArr(3),this.blockButtons(3),this.width=3):t?(this.restructureArr(6),this.blockButtons(6),this.width=6):(this.restructureArr(8),this.blockButtons(8),this.width=8),this.createCards(this.dividedArr[0])}changeLayoutToWidth(){const t=window.matchMedia("(max-width: 1250px)").matches,e=window.matchMedia("(max-width: 767px)").matches;(e&&3!==this.width||!t&&!e&&8!==this.width||t&&!e&&6!==this.width)&&(this.frPage.innerHTML="",e&&3!==this.width?this.width=3:t&&!e&&6!==this.width?this.width=6:t||e||8===this.width||(this.width=8),this.restructureArr(this.width),this.createCards(this.dividedArr[0]),this.pageNum=0,this.pageIndex.textContent=`${this.pageNum+1}`,this.blockButtons())}restructureArr(t){let e=[];if(8!==t){this.generatedArr.forEach((t=>t.forEach((t=>e.push(t))))),this.dividedArr=[];for(let s=0;s+t<=e.length;s+=t)this.dividedArr.push(e.slice(s,s+t))}else this.dividedArr=this.generatedArr;console.log("divided array for certain width"),console.log(this.dividedArr)}createButton(t){const e=document.createElement("button");return e.classList.add("button","friends-page__button"),e.textContent=t,e}createCards(t){t.forEach((t=>{const s=this.animalsArr[t],i=new e(s);this.frPage.append(i.container)}))}generateRandomArray(){let t=this.shuffleArray([0,1,2,3,4,5,6,7]),e=[];for(let s=0;s<6;s++){const s=t.shift();t.push(s);const i=Array.from(t);e.push(i)}this.generatedArr=e,console.log("generated array for any width"),console.log(this.generatedArr)}shuffleArray(t){return t.sort((()=>Math.random()-.5))}};i.append(n.item,o.item,a.item)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1nRyxFQUFPL0ksU0FBU0MsY0FBYyxVQUdwQyxPQUZBOEksRUFBSzdJLFVBQVVDLElBQUksU0FBVSx3QkFDN0I0SSxFQUFLbEksWUFBY2tDLEVBQ1pnRyxDQUNULENBRUFYLFlBQVlJLEdBQ1ZBLEVBQUkxRyxTQUFTZixJQUNYLE1BQU1pSSxFQUFNakosS0FBS3FILFdBQVdyRyxHQUN0QmtJLEVBQU8sSUFBSXpHLEVBQUt3RyxHQUN0QmpKLEtBQUtzSCxPQUFPeEYsT0FBT29ILEVBQUsvSixVQUFVLEdBRXRDLENBRUFtSixzQkFDRSxJQUFJYSxFQUFPbkosS0FBS29KLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQy9DWCxFQUFNLEdBQ1YsSUFBSyxJQUFJbEcsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQUssQ0FDMUIsTUFBTThHLEVBQWFGLEVBQUtHLFFBQ3hCSCxFQUFLVCxLQUFLVyxHQUNWLE1BQU1FLEVBQU8zRSxNQUFNNEUsS0FBS0wsR0FFeEJWLEVBQUlDLEtBQUthLEVBQ1gsQ0FDQXZKLEtBQUt1SCxhQUFla0IsRUFDcEJLLFFBQVFDLElBQUksaUNBQ1pELFFBQVFDLElBQUkvSSxLQUFLdUgsYUFDbkIsQ0FFQTZCLGFBQWFYLEdBQ1gsT0FBT0EsRUFBSWdCLE1BQUssSUFBTUMsS0FBS0MsU0FBVyxJQUN4QyxHSC9MRnpILEVBQUtKLE9BQU9rRCxFQUFPTixLQUFNcUMsRUFBUXJDLEtBQU1rQixFQUFPbEIsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWx0ZXIvLi9zcmMvc2hhcmVkX2NvbXBvbmVudHMvbmF2L2luZGV4LmpzIiwid2VicGFjazovL3NoZWx0ZXIvLi9zcmMvc2hhcmVkX2NvbXBvbmVudHMvY2FyZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaGVsdGVyLy4vc3JjL3BhZ2VzL3BldHMvcGV0cy5qcyIsIndlYnBhY2s6Ly9zaGVsdGVyLy4vc3JjL3NoYXJlZF9jb21wb25lbnRzL2hlYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaGVsdGVyLy4vc3JjL3NoYXJlZF9jb21wb25lbnRzL2Zvb3Rlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9zaGVsdGVyLy4vc3JjL3BhZ2VzL3BldHMvY29tcG9uZW50cy9mcmllbmRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vc3R5bGUuc2Nzc1wiO1xuXG5leHBvcnQgY2xhc3MgTmF2IHtcbiAgY29udGFpbmVyO1xuICBidXJnZXJJY29uO1xuICBidXJnZXJDb250YWluZXI7XG4gIGJ1cmdlck1lbnU7XG4gIGRhcmtCYWNrZ3JvdW5kO1xuICBsaW5rc0FycmF5O1xuICBpc1NtYWxsU2NyZWVuO1xuXG4gIGNvbnN0cnVjdG9yKGlzTGlnaHQsIGFjdGl2ZVBhZ2UpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJuYXZcIik7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm5hdlwiKTtcbiAgICBsZXQgbGlua0Fib3V0LCBsaW5rUGV0cywgbGlua0hlbHA7XG5cbiAgICBpZiAoYWN0aXZlUGFnZSA9PT0gXCJBYm91dFwiKSB7XG4gICAgICBsaW5rQWJvdXQgPSB0aGlzLmNyZWF0ZUxpbmsoXCJBYm91dCB0aGUgc2hlbHRlclwiLCBcIiNcIiwgaXNMaWdodCwgdHJ1ZSk7XG4gICAgICBsaW5rUGV0cyA9IHRoaXMuY3JlYXRlTGluayhcbiAgICAgICAgXCJPdXIgcGV0c1wiLFxuICAgICAgICBcImh0dHBzOi8vb2x5YWxhc3MuZ2l0aHViLmlvL3NoZWx0ZXIvYnVpbGQvcGV0cy5odG1sXCIsXG4gICAgICAgIGlzTGlnaHRcbiAgICAgICk7XG4gICAgICBsaW5rSGVscCA9IHRoaXMuY3JlYXRlTGluayhcIkhlbHAgdGhlIHNoZWx0ZXJcIiwgXCIjaGVscFwiLCBpc0xpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlua0Fib3V0ID0gdGhpcy5jcmVhdGVMaW5rKFxuICAgICAgICBcIkFib3V0IHRoZSBzaGVsdGVyXCIsXG4gICAgICAgIFwiaHR0cHM6Ly9vbHlhbGFzcy5naXRodWIuaW8vc2hlbHRlci9idWlsZC9pbmRleC5odG1sXCIsXG4gICAgICAgIGlzTGlnaHRcbiAgICAgICk7XG4gICAgICBsaW5rUGV0cyA9IHRoaXMuY3JlYXRlTGluayhcIk91ciBwZXRzXCIsIFwiI1wiLCBpc0xpZ2h0LCB0cnVlKTtcbiAgICAgIGxpbmtIZWxwID0gdGhpcy5jcmVhdGVMaW5rKFxuICAgICAgICBcIkhlbHAgdGhlIHNoZWx0ZXJcIixcbiAgICAgICAgXCJodHRwczovL29seWFsYXNzLmdpdGh1Yi5pby9zaGVsdGVyL2J1aWxkL2luZGV4Lmh0bWwjaGVscFwiLFxuICAgICAgICBpc0xpZ2h0XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmtDb250YWN0cyA9IHRoaXMuY3JlYXRlTGluayhcIkNvbnRhY3RzXCIsIFwiI2Zvb3RlclwiLCBpc0xpZ2h0KTtcbiAgICB0aGlzLmxpbmtzQXJyYXkgPSBbbGlua0Fib3V0LCBsaW5rUGV0cywgbGlua0hlbHAsIGxpbmtDb250YWN0c107XG5cbiAgICB0aGlzLnNldExheW91dFRvV2lkdGgoaXNMaWdodCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRMYXlvdXRUb1dpZHRoKGlzTGlnaHQpO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTGluayh0ZXh0LCBsaW5rLCBpc0xpZ2h0LCBpc0FjdGl2ZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgbGlua0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rSXRlbS5jbGFzc0xpc3QuYWRkKFwibmF2X19saW5rXCIpO1xuICAgIGxpbmtJdGVtLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBsaW5rSXRlbS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGxpbmspO1xuICAgIGlzTGlnaHRcbiAgICAgID8gaXNBY3RpdmVcbiAgICAgICAgPyBsaW5rSXRlbS5jbGFzc0xpc3QuYWRkKFxuICAgICAgICAgICAgXCJuYXZfX2xpbmtfbGlnaHRcIixcbiAgICAgICAgICAgIFwibmF2X19saW5rX2FjdGl2ZVwiLFxuICAgICAgICAgICAgXCJuYXZfX2xpbmtfbGlnaHRfYWN0aXZlXCJcbiAgICAgICAgICApXG4gICAgICAgIDogbGlua0l0ZW0uY2xhc3NMaXN0LmFkZChcIm5hdl9fbGlua19saWdodFwiKVxuICAgICAgOiBpc0FjdGl2ZVxuICAgICAgPyBsaW5rSXRlbS5jbGFzc0xpc3QuYWRkKFxuICAgICAgICAgIFwibmF2X19saW5rX2RhcmtcIixcbiAgICAgICAgICBcIm5hdl9fbGlua19hY3RpdmVcIixcbiAgICAgICAgICBcIm5hdl9fbGlua19kYXJrX2FjdGl2ZVwiXG4gICAgICAgIClcbiAgICAgIDogbGlua0l0ZW0uY2xhc3NMaXN0LmFkZChcIm5hdl9fbGlua19kYXJrXCIpO1xuICAgIGxpbmtJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuYnVyZ2VyTWVudSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xvc2VCdXJnZXIoKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UobGluayk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBsaW5rSXRlbTtcbiAgfVxuXG4gIHNldExheW91dFRvV2lkdGgoaXNsaWdodCkge1xuICAgIGlmICh0aGlzLmJ1cmdlckNvbnRhaW5lcikge1xuICAgICAgdGhpcy5idXJnZXJDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImJ1cmdlcl9fY29udGFpbmVyX29wZW5cIik7XG4gICAgICB0aGlzLmJ1cmdlckljb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub3BlbkNsb3NlQnVyZ2VyKTtcbiAgICAgIHRoaXMuZGFya0JhY2tncm91bmQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VCdXJnZXIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnN0IGlzU21hbGxTY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDc2N3B4KVwiKS5tYXRjaGVzO1xuICAgIGlmIChpc1NtYWxsU2NyZWVuKSB7XG4gICAgICB0aGlzLmRhcmtCYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHRoaXMuZGFya0JhY2tncm91bmQuY2xhc3NMaXN0LmFkZChcImJ1cmdlcl9fYmdcIik7XG4gICAgICB0aGlzLmJ1cmdlckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgdGhpcy5idXJnZXJJY29uLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX2ltZ1wiKTtcbiAgICAgIHRoaXMuY3JlYXRlSWNvbihpc2xpZ2h0KTtcbiAgICAgIHRoaXMuYnVyZ2VyTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpc2xpZ2h0XG4gICAgICAgID8gdGhpcy5idXJnZXJNZW51LmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX21lbnVcIiwgXCJidXJnZXJfX21lbnVfbGlnaHRcIilcbiAgICAgICAgOiB0aGlzLmJ1cmdlck1lbnUuY2xhc3NMaXN0LmFkZChcImJ1cmdlcl9fbWVudVwiKTtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX2NvbnRhaW5lclwiKTtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJidXJnZXJfX2NvbnRhaW5lcl9vcGVuXCIpO1xuICAgICAgdGhpcy5idXJnZXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLm9wZW5DbG9zZUJ1cmdlcigpKTtcbiAgICAgIHRoaXMuZGFya0JhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2VCdXJnZXIoKSk7XG4gICAgICB0aGlzLmJ1cmdlck1lbnUuYXBwZW5kKHRoaXMuYnVyZ2VyQ29udGFpbmVyKTtcbiAgICAgIHRoaXMubGlua3NBcnJheS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fbGlua19vcGVuXCIpO1xuICAgICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlQnVyZ2VyKCkpO1xuICAgICAgICB0aGlzLmJ1cmdlckNvbnRhaW5lci5hcHBlbmQoZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChcbiAgICAgICAgdGhpcy5idXJnZXJJY29uLFxuICAgICAgICB0aGlzLmJ1cmdlck1lbnUsXG4gICAgICAgIHRoaXMuZGFya0JhY2tncm91bmRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICB0aGlzLmxpbmtzQXJyYXkuZm9yRWFjaCgoZSkgPT4gdGhpcy5jb250YWluZXIuYXBwZW5kKGUpKTtcbiAgICB9XG4gIH1cblxuICBvcGVuQ2xvc2VCdXJnZXIoKSB7XG4gICAgaWYgKHRoaXMuYnVyZ2VySWNvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJnZXJfX2ltZ19vcGVuXCIpKSB7XG4gICAgICB0aGlzLmNsb3NlQnVyZ2VyKHRoaXMubGlua3NBcnJheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3BlbkJ1cmdlcih0aGlzLmxpbmtzQXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW5CdXJnZXIoKSB7XG4gICAgdGhpcy5idXJnZXJNZW51LmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX21lbnVfb3BlblwiKTtcbiAgICB0aGlzLmJ1cmdlckljb24uY2xhc3NMaXN0LmFkZChcImJ1cmdlcl9faW1nX29wZW5cIik7XG4gICAgdGhpcy5kYXJrQmFja2dyb3VuZC5jbGFzc0xpc3QuYWRkKFwiYnVyZ2VyX19iZ19vcGVuXCIpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwdndcIjtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX2NvbnRhaW5lcl9vcGVuXCIpO1xuICAgICAgdGhpcy5idXJnZXJDb250YWluZXIuc3R5bGUud2lkdGggPSBcIjI0M3B4XCI7XG4gICAgICB0aGlzLmxpbmtzQXJyYXkuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgICBlLmNsYXNzTGlzdC5hZGQoXCJuYXZfX2xpbmtfb3BlblwiKTtcbiAgICAgIH0pO1xuICAgIH0sIDQwMCk7XG4gIH1cblxuICBjbG9zZUJ1cmdlcigpIHtcbiAgICB0aGlzLmJ1cmdlckNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYnVyZ2VyX19jb250YWluZXJfb3BlblwiKTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcblxuICAgIHRoaXMubGlua3NBcnJheS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZfX2xpbmtfb3BlblwiKTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuYnVyZ2VyTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiYnVyZ2VyX19tZW51X29wZW5cIik7XG4gICAgICB0aGlzLmJ1cmdlckljb24uY2xhc3NMaXN0LnJlbW92ZShcImJ1cmdlcl9faW1nX29wZW5cIik7XG4gICAgICB0aGlzLmRhcmtCYWNrZ3JvdW5kLmNsYXNzTGlzdC5yZW1vdmUoXCJidXJnZXJfX2JnX29wZW5cIik7XG4gICAgICB0aGlzLmJ1cmdlckNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG4gICAgfSwgNDAwKTtcbiAgfVxuXG4gIGNyZWF0ZUljb24oaXNMaWdodCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGlzTGlnaHRcbiAgICAgICAgPyBsaW5lLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX2xpbmVcIiwgXCJidXJnZXJfX2xpbmVfbGlnaHRcIilcbiAgICAgICAgOiBsaW5lLmNsYXNzTGlzdC5hZGQoXCJidXJnZXJfX2xpbmVcIik7XG4gICAgICB0aGlzLmJ1cmdlckljb24uYXBwZW5kKGxpbmUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9zdHlsZS5zY3NzXCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29udGFpbmVyO1xuICBkYXJrQkc7XG4gIHBldE9iajtcbiAgcG9wdXA7XG4gIHNjcm9sbDtcblxuICBjb25zdHJ1Y3RvcihwZXRPYmopIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNhcmRcIik7XG4gICAgdGhpcy5wZXRPYmogPSBwZXRPYmo7XG5cbiAgICBjb25zdCBjYXJkSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBjYXJkSW1nLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19pbWdcIik7XG4gICAgY2FyZEltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5wZXRPYmouaW1nKTtcbiAgICBjYXJkSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCB0aGlzLnBldE9iai5uYW1lKTtcbiAgICBjb25zdCBjYXJkTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKTtcbiAgICBjYXJkTmFtZS5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbmFtZVwiKTtcbiAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMucGV0T2JqLm5hbWU7XG4gICAgY29uc3QgY2FyZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY2FyZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uXCIpO1xuICAgIGNhcmRCdXR0b24udGV4dENvbnRlbnQgPSBcIkxlYXJuIG1vcmVcIjtcblxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChjYXJkSW1nLCBjYXJkTmFtZSwgY2FyZEJ1dHRvbik7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMub3BlblBvcHVwKCkpO1xuICB9XG5cbiAgY3JlYXRlUG9wdXAoKSB7XG4gICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBcIik7XG4gICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xuICAgIGNvbnN0IHBvcHVwQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwb3B1cENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2NvbnRhaW5lclwiKTtcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5wZXRPYmouaW1nKTtcbiAgICBpbWcuY2xhc3NMaXN0LmFkZChcInBvcHVwX19pbWdcIik7XG4gICAgdGhpcy5wb3B1cC5hcHBlbmQoaW1nLCBwb3B1cENvbnRhaW5lcik7XG5cbiAgICBjb25zdCBjbG9zZUJ0dG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNsb3NlQnR0bi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uXCIpO1xuICAgIGNsb3NlQnR0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuY2xvc2VQb3B1cCgpKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX3RpdGxlXCIpO1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5wZXRPYmoubmFtZTtcbiAgICBjb25zdCBzdWJ0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBzdWJ0aXRsZS50ZXh0Q29udGVudCA9IGAke3RoaXMucGV0T2JqLnR5cGV9IC0gJHt0aGlzLnBldE9iai5icmVlZH1gO1xuICAgIHN1YnRpdGxlLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fc3VidGl0bGVcIik7XG4gICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHRleHQuY2xhc3NMaXN0LmFkZChcInBvcHVwX190ZXh0XCIpO1xuICAgIHRleHQudGV4dENvbnRlbnQgPSB0aGlzLnBldE9iai5kZXNjcmlwdGlvbjtcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIGxpc3QuY2xhc3NMaXN0LmFkZChcInBvcHVwX19saXN0XCIpO1xuICAgIGNvbnN0IGFnZSA9IHRoaXMuY3JlYXRlTGlzdEl0ZW0oXCJBZ2VcIiwgdGhpcy5wZXRPYmouYWdlKTtcbiAgICBjb25zdCBpbm9jdWxhdGlvbnMgPSB0aGlzLmNyZWF0ZUxpc3RJdGVtKFxuICAgICAgXCJJbm9jdWxhdGlvbnNcIixcbiAgICAgIHRoaXMucGV0T2JqLmlub2N1bGF0aW9uc1xuICAgICk7XG4gICAgY29uc3QgZGlzZWFzZXMgPSB0aGlzLmNyZWF0ZUxpc3RJdGVtKFwiRGlzZWFzZXNcIiwgdGhpcy5wZXRPYmouZGlzZWFzZXMpO1xuICAgIGNvbnN0IHBhcmFzaXRlcyA9IHRoaXMuY3JlYXRlTGlzdEl0ZW0oXCJQYXJhc2l0ZXNcIiwgdGhpcy5wZXRPYmoucGFyYXNpdGVzKTtcbiAgICBsaXN0LmFwcGVuZChhZ2UsIGlub2N1bGF0aW9ucywgZGlzZWFzZXMsIHBhcmFzaXRlcyk7XG4gICAgcG9wdXBDb250YWluZXIuYXBwZW5kKHRpdGxlLCBzdWJ0aXRsZSwgdGV4dCwgbGlzdCwgY2xvc2VCdHRuKTtcbiAgICB0aGlzLmRhcmtCRy5hcHBlbmQodGhpcy5wb3B1cCk7XG4gIH1cblxuICBvcGVuUG9wdXAoKSB7XG4gICAgdGhpcy5kYXJrQkcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZGFya0JHLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fYmdcIik7XG4gICAgdGhpcy5kYXJrQkcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2VQb3B1cCgpKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmRhcmtCRyk7XG4gICAgdGhpcy5zY3JvbGwgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB0aGlzLmNyZWF0ZVBvcHVwKCk7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDB2d1wiO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gYC0ke3RoaXMuc2Nyb2xsfXB4YDtcbiAgfVxuXG4gIGNsb3NlUG9wdXAoZSkge1xuICAgIHRoaXMuZGFya0JHLnJlbW92ZSgpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gXCJcIjtcbiAgICBkb2N1bWVudC5jaGlsZHJlblswXS5zdHlsZS5zY3JvbGxCZWhhdmlvciA9IFwiYXV0b1wiO1xuICAgIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLnNjcm9sbCk7XG4gICAgZG9jdW1lbnQuY2hpbGRyZW5bMF0uc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBcInNtb290aFwiO1xuICB9XG5cbiAgY3JlYXRlTGlzdEl0ZW0odHlwZSwgaW5mbykge1xuICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2xpXCIpO1xuICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX3NwYW5cIik7XG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IGAke3R5cGV9OiBgO1xuICAgIEFycmF5LmlzQXJyYXkoaW5mbylcbiAgICAgID8gKHRleHQudGV4dENvbnRlbnQgPSBpbmZvLmpvaW4oXCIsIFwiKSlcbiAgICAgIDogKHRleHQudGV4dENvbnRlbnQgPSBpbmZvKTtcbiAgICBpdGVtLmFwcGVuZChzcGFuLCB0ZXh0KTtcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vLi4vc3R5bGUuc2Nzc1wiO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSBcIi4uLy4uL3NoYXJlZF9jb21wb25lbnRzL2hlYWRlclwiO1xuaW1wb3J0IHsgRm9vdGVyIH0gZnJvbSBcIi4uLy4uL3NoYXJlZF9jb21wb25lbnRzL2Zvb3RlclwiO1xuaW1wb3J0IHsgRnJpZW5kc1BhZ2VzIH0gZnJvbSBcIi4vY29tcG9uZW50cy9mcmllbmRzXCI7XG5cbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbmNvbnN0IGhlYWRlciA9IG5ldyBIZWFkZXIodHJ1ZSwgXCJQZXRzXCIpO1xuY29uc3QgZm9vdGVyID0gbmV3IEZvb3RlcigpO1xuY29uc3QgZnJpZW5kcyA9IG5ldyBGcmllbmRzUGFnZXMoKTtcbmJvZHkuYXBwZW5kKGhlYWRlci5pdGVtLCBmcmllbmRzLml0ZW0sIGZvb3Rlci5pdGVtKTtcbiIsImltcG9ydCBcIi4vc3R5bGUuc2Nzc1wiO1xuaW1wb3J0IHsgTmF2IH0gZnJvbSBcIi4uL25hdlwiO1xuXG5leHBvcnQgY2xhc3MgSGVhZGVyIHtcbiAgaXRlbTtcblxuICBjb25zdHJ1Y3Rvcihpc0xpZ2h0LCBhY3RpdmVQYWdlKSB7XG4gICAgdGhpcy5pdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhlYWRlclwiKTtcbiAgICBpc0xpZ2h0XG4gICAgICA/IHRoaXMuaXRlbS5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyXCIsIFwiaGVhZGVyX2xpZ2h0XCIpXG4gICAgICA6IHRoaXMuaXRlbS5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyXCIsIFwiaGVhZGVyX2RhcmtcIik7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX19jb250YWluZXJcIik7XG4gICAgaXNMaWdodFxuICAgICAgPyBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlcl9fY29udGFpbmVyXCIsIFwiaGVhZGVyX19jb250YWluZXJfbGlnaHRcIilcbiAgICAgIDogY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX2NvbnRhaW5lclwiKTtcbiAgICBjb25zdCBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbG9nby5jbGFzc0xpc3QuYWRkKFwibG9nb1wiKTtcbiAgICBhY3RpdmVQYWdlID09PSBcIkFib3V0XCJcbiAgICAgID8gbG9nby5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiI1wiKVxuICAgICAgOiBsb2dvLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBcImhyZWZcIixcbiAgICAgICAgICBcImh0dHBzOi8vb2x5YWxhc3MuZ2l0aHViLmlvL3NoZWx0ZXIvYnVpbGQvaW5kZXguaHRtbFwiXG4gICAgICAgICk7XG4gICAgY29uc3QgbG9nb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIGlzTGlnaHRcbiAgICAgID8gbG9nb1RpdGxlLmNsYXNzTGlzdC5hZGQoXCJsb2dvX190aXRsZVwiLCBcImxvZ29fX3RpdGxlX2xpZ2h0XCIpXG4gICAgICA6IGxvZ29UaXRsZS5jbGFzc0xpc3QuYWRkKFwibG9nb19fdGl0bGVcIiwgXCJsb2dvX190aXRsZV9kYXJrXCIpO1xuICAgIGxvZ29UaXRsZS50ZXh0Q29udGVudCA9IFwiQ296eSBIb3VzZVwiO1xuICAgIGNvbnN0IGxvZ29UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgaXNMaWdodFxuICAgICAgPyBsb2dvVGV4dC5jbGFzc0xpc3QuYWRkKFwibG9nb19fdGV4dFwiLCBcImxvZ29fX3RleHRfbGlnaHRcIilcbiAgICAgIDogbG9nb1RleHQuY2xhc3NMaXN0LmFkZChcImxvZ29fX3RleHRcIiwgXCJsb2dvX190ZXh0X2RhcmtcIik7XG4gICAgbG9nb1RleHQudGV4dENvbnRlbnQgPSBcIlNoZWx0ZXIgZm9yIHBldHMgaW4gQm9zdG9uXCI7XG4gICAgbG9nby5hcHBlbmQobG9nb1RpdGxlLCBsb2dvVGV4dCk7XG5cbiAgICBjb25zdCBuYXYgPSBuZXcgTmF2KGlzTGlnaHQsIGFjdGl2ZVBhZ2UpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZChsb2dvLCBuYXYuY29udGFpbmVyKTtcblxuICAgIGlmIChhY3RpdmVQYWdlID09PSBcIkFib3V0XCIpIHtcbiAgICAgIGNvbnN0IG5vdE9ubHlCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBub3RPbmx5QmxvY2suY2xhc3NMaXN0LmFkZChcIm5vdC1vbmx5XCIpO1xuICAgICAgY29uc3Qgbm90T25seUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBub3RPbmx5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJub3Qtb25seV9fY29udGFpbmVyXCIpO1xuICAgICAgY29uc3Qgbm90T25seVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgbm90T25seVRpdGxlLnRleHRDb250ZW50ID0gXCJOb3Qgb25seSBwZW9wbGUgbmVlZCBhIGhvdXNlXCI7XG4gICAgICBub3RPbmx5VGl0bGUuY2xhc3NMaXN0LmFkZChcIm5vdC1vbmx5X190aXRsZVwiKTtcbiAgICAgIGNvbnN0IG5vdE9ubHlUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBub3RPbmx5VGV4dC5jbGFzc0xpc3QuYWRkKFwibm90LW9ubHlfX3RleHRcIik7XG4gICAgICBub3RPbmx5VGV4dC50ZXh0Q29udGVudCA9XG4gICAgICAgIFwiV2Ugb2ZmZXIgdG8gZ2l2ZSBhIGNoYW5jZSB0byBhIGxpdHRsZSBhbmQgbmljZSBwdXBweSB3aXRoIGFuIGV4dHJlbWVseSB3aWRlIGFuZCBvcGVuIGhlYXJ0LiBIZSBvciBzaGUgd2lsbCBsb3ZlIHlvdSBtb3JlIHRoYW4gYW55Ym9keSBlbHNlIGluIHRoZSB3b3JsZCwgeW91IHdpbGwgc2VlIVwiO1xuICAgICAgY29uc3Qgbm90T25seUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgbm90T25seUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiTWFrZSBhIGZyaWVuZFwiO1xuICAgICAgbm90T25seUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiI2ZyaWVuZHNcIik7XG4gICAgICBub3RPbmx5QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b25cIiwgXCJidXR0b25fZmlsbGVkXCIpO1xuICAgICAgbm90T25seUNvbnRhaW5lci5hcHBlbmQobm90T25seVRpdGxlLCBub3RPbmx5VGV4dCwgbm90T25seUJ1dHRvbik7XG4gICAgICBjb25zdCBub3RPbmx5SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5vdE9ubHlJbWcuY2xhc3NMaXN0LmFkZChcIm5vdC1vbmx5X19pbWdcIik7XG4gICAgICBub3RPbmx5QmxvY2suYXBwZW5kKG5vdE9ubHlDb250YWluZXIsIG5vdE9ubHlJbWcpO1xuICAgICAgdGhpcy5pdGVtLmFwcGVuZChjb250YWluZXIsIG5vdE9ubHlCbG9jayk7XG4gICAgfSBlbHNlIHRoaXMuaXRlbS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL3N0eWxlLnNjc3NcIjtcblxuZXhwb3J0IGNsYXNzIEZvb3RlciB7XG4gIGl0ZW07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvb3RlclwiKTtcbiAgICB0aGlzLml0ZW0uY2xhc3NMaXN0LmFkZChcImZvb3RlclwiKTtcbiAgICB0aGlzLml0ZW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJmb290ZXJcIik7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19jb250YWluZXJcIik7XG4gICAgdGhpcy5pdGVtLmFwcGVuZChjb250YWluZXIpO1xuXG4gICAgY29uc3QgZm9vdGVyV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZm9vdGVyV3JhcC5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX193cmFwXCIpO1xuICAgIGNvbnN0IGZvb3RlckltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZm9vdGVySW1nLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2ltZ1wiKTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmQoZm9vdGVyV3JhcCwgZm9vdGVySW1nKTtcblxuICAgIGNvbnN0IGZpcnN0QmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGZpcnN0QmxvY2suY2xhc3NMaXN0LmFkZChcImZvb3Rlcl9fYmxvY2tcIik7XG4gICAgY29uc3Qgc2Vjb25kQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNlY29uZEJsb2NrLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2Jsb2NrXCIpO1xuXG4gICAgZm9vdGVyV3JhcC5hcHBlbmQoZmlyc3RCbG9jaywgc2Vjb25kQmxvY2spO1xuXG4gICAgY29uc3QgZmlyc3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBmaXJzdFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX3RpdGxlXCIpO1xuICAgIGZpcnN0VGl0bGUudGV4dENvbnRlbnQgPSBcIkZvciBxdWVzdGlvbnMgYW5kIHN1Z2dlc3Rpb25zXCI7XG4gICAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVtYWlsLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2NvbnRhY3RcIik7XG4gICAgY29uc3QgZW1haWxJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVtYWlsSW1nLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2VtYWlsXCIpO1xuICAgIGNvbnN0IGVtYWlsTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGVtYWlsTGluay5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19jb250YWN0X190ZXh0XCIpO1xuICAgIGVtYWlsTGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwibWFpbHRvOmVtYWlsQHNoZWx0ZXIuY29tXCIpO1xuICAgIGVtYWlsTGluay50ZXh0Q29udGVudCA9IFwiZW1haWxAc2hlbHRlci5jb21cIjtcbiAgICBlbWFpbC5hcHBlbmQoZW1haWxJbWcsIGVtYWlsTGluayk7XG4gICAgY29uc3QgcGhvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBob25lLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2NvbnRhY3RcIik7XG4gICAgY29uc3QgcGhvbmVJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBob25lSW1nLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX3Bob25lXCIpO1xuICAgIGNvbnN0IHBob25lTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIHBob25lTGluay50ZXh0Q29udGVudCA9IFwiKzEzIDY3NCA1NjcgNzUgNTRcIjtcbiAgICBwaG9uZUxpbmsuY2xhc3NMaXN0LmFkZChcImZvb3Rlcl9fY29udGFjdF9fdGV4dFwiKTtcbiAgICBwaG9uZUxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcInRlbDorMTMgNjc0IDU2NyA3NSA1NFwiKTtcbiAgICBwaG9uZS5hcHBlbmQocGhvbmVJbWcsIHBob25lTGluayk7XG4gICAgZmlyc3RCbG9jay5hcHBlbmQoZmlyc3RUaXRsZSwgZW1haWwsIHBob25lKTtcblxuICAgIGNvbnN0IHNlY29uZFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgIHNlY29uZFRpdGxlLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX3RpdGxlXCIpO1xuICAgIHNlY29uZFRpdGxlLnRleHRDb250ZW50ID0gXCJXZSBhcmUgd2FpdGluZyBmb3IgeW91ciB2aXNpdFwiO1xuICAgIGNvbnN0IGxvY0ZpcnN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsb2NGaXJzdC5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19jb250YWN0XCIpO1xuICAgIGNvbnN0IGxvY0ZpcnN0SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsb2NGaXJzdEltZy5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19sb2NcIik7XG4gICAgY29uc3QgbG9jRmlyc3RMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbG9jRmlyc3RMaW5rLmNsYXNzTGlzdC5hZGQoXCJmb290ZXJfX2NvbnRhY3RfX3RleHRcIik7XG4gICAgbG9jRmlyc3RMaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2dvby5nbC9tYXBzLzhrR3FQWjhCZDh2QXpuQU04XCIpO1xuICAgIGxvY0ZpcnN0TGluay5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XG4gICAgbG9jRmlyc3RMaW5rLnRleHRDb250ZW50ID1cbiAgICAgIFwiMSBDZW50cmFsIFN0cmVldCwgQm9zdG9uIChlbnRyYW5jZSBmcm9tIHRoZSBzdG9yZSlcIjtcbiAgICBsb2NGaXJzdC5hcHBlbmQobG9jRmlyc3RJbWcsIGxvY0ZpcnN0TGluayk7XG4gICAgY29uc3QgbG9jU2Vjb25kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsb2NTZWNvbmQuY2xhc3NMaXN0LmFkZChcImZvb3Rlcl9fY29udGFjdFwiKTtcbiAgICBjb25zdCBsb2NTZWNvbmRJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxvY1NlY29uZEltZy5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyX19sb2NcIik7XG4gICAgY29uc3QgbG9jU2Vjb25kTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGxvY1NlY29uZExpbmsudGV4dENvbnRlbnQgPSBcIjE4IFNvdXRoIFBhcmssIExvbmRvblwiO1xuICAgIGxvY1NlY29uZExpbmsuY2xhc3NMaXN0LmFkZChcImZvb3Rlcl9fY29udGFjdF9fdGV4dFwiKTtcbiAgICBsb2NTZWNvbmRMaW5rLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcbiAgICBsb2NTZWNvbmRMaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2dvby5nbC9tYXBzL2ZYQ2dKdmd3SlprQTEyd0I4XCIpO1xuICAgIGxvY1NlY29uZC5hcHBlbmQobG9jU2Vjb25kSW1nLCBsb2NTZWNvbmRMaW5rKTtcblxuICAgIHNlY29uZEJsb2NrLmFwcGVuZChzZWNvbmRUaXRsZSwgbG9jRmlyc3QsIGxvY1NlY29uZCk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vc3R5bGUuc2Nzc1wiO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi8uLi8uLi8uLi9zaGFyZWRfY29tcG9uZW50cy9jYXJkXCI7XG5pbXBvcnQgYW5pbWFscyBmcm9tIFwiLi4vLi4vLi4vLi4vc2hhcmVkX2NvbXBvbmVudHMvYW5pbWFscy5qc29uXCI7XG5cbmV4cG9ydCBjbGFzcyBGcmllbmRzUGFnZXMge1xuICBpdGVtO1xuICBmaXJzdEJ1dHRvbjtcbiAgcHJldkJ1dHRvbjtcbiAgbmV4dEJ1dHRvbjtcbiAgbGFzdEJ1dHRvbjtcbiAgcGFnZUluZGV4O1xuICBhbmltYWxzQXJyO1xuICBmclBhZ2U7XG4gIGdlbmVyYXRlZEFycjtcbiAgZGl2aWRlZEFycjtcbiAgcGFnZU51bTtcbiAgd2lkdGg7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLml0ZW0uY2xhc3NMaXN0LmFkZChcImZyaWVuZHMtcGFnZVwiKTtcblxuICAgIGNvbnN0IGZyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBmckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZnJpZW5kcy1wYWdlX19jb250YWluZXJcIik7XG4gICAgdGhpcy5pdGVtLmFwcGVuZENoaWxkKGZyQ29udGFpbmVyKTtcbiAgICBjb25zdCBmclRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgIGZyVGl0bGUuY2xhc3NMaXN0LmFkZChcImZyaWVuZHMtcGFnZV9fdGl0bGVcIik7XG4gICAgZnJUaXRsZS5pbm5lckhUTUwgPSBcIk91ciBmcmllbmRzIHdobzxicj5hcmUgbG9va2luZyBmb3IgYSBob3VzZVwiO1xuICAgIHRoaXMuZnJQYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmZyUGFnZS5jbGFzc0xpc3QuYWRkKFwiZnJpZW5kcy1wYWdlX19wYWdlXCIpO1xuICAgIGNvbnN0IGZyTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBmck5hdi5jbGFzc0xpc3QuYWRkKFwiZnJpZW5kcy1wYWdlX19uYXZcIik7XG4gICAgZnJDb250YWluZXIuYXBwZW5kKGZyVGl0bGUsIHRoaXMuZnJQYWdlLCBmck5hdik7XG5cbiAgICB0aGlzLmZpcnN0QnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oXCI8PFwiKTtcbiAgICB0aGlzLnByZXZCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbihcIjxcIik7XG4gICAgdGhpcy5uZXh0QnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oXCI+XCIpO1xuICAgIHRoaXMubGFzdEJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKFwiPj5cIik7XG4gICAgdGhpcy5wYWdlSW5kZXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIHRoaXMucGFnZUluZGV4LmNsYXNzTGlzdC5hZGQoXCJmcmllbmRzLXBhZ2VfX2luZGV4XCIpO1xuICAgIGZyTmF2LmFwcGVuZChcbiAgICAgIHRoaXMuZmlyc3RCdXR0b24sXG4gICAgICB0aGlzLnByZXZCdXR0b24sXG4gICAgICB0aGlzLnBhZ2VJbmRleCxcbiAgICAgIHRoaXMubmV4dEJ1dHRvbixcbiAgICAgIHRoaXMubGFzdEJ1dHRvblxuICAgICk7XG5cbiAgICB0aGlzLmFuaW1hbHNBcnIgPSBhbmltYWxzO1xuXG4gICAgdGhpcy5zZXRMYXlvdXRUb1dpZHRoKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VMYXlvdXRUb1dpZHRoKCk7XG4gICAgfSk7XG4gICAgdGhpcy5wYWdlSW5kZXgudGV4dENvbnRlbnQgPSBgJHt0aGlzLnBhZ2VOdW0gKyAxfWA7XG5cbiAgICB0aGlzLnByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLmdvVG9QYWdlKHRoaXMucGFnZU51bSAtIDEpXG4gICAgKTtcbiAgICB0aGlzLmZpcnN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmdvVG9QYWdlKDApKTtcbiAgICB0aGlzLm5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLmdvVG9QYWdlKHRoaXMucGFnZU51bSArIDEpXG4gICAgKTtcbiAgICB0aGlzLmxhc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuZ29Ub0xhc3RQYWdlKCkpO1xuICB9XG5cbiAgYmxvY2tCdXR0b25zKCkge1xuICAgIGNvbnN0IGlzTWVkaXVtU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiAxMjUwcHgpXCIpLm1hdGNoZXM7XG4gICAgY29uc3QgaXNTbWFsbFNjcmVlbiA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY3cHgpXCIpLm1hdGNoZXM7XG4gICAgaWYgKHRoaXMucGFnZU51bSA9PT0gMCkge1xuICAgICAgdGhpcy5wcmV2QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgdGhpcy5maXJzdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmV2QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgdGhpcy5maXJzdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgaWYgKGlzU21hbGxTY3JlZW4gJiYgdGhpcy5wYWdlTnVtID09PSAxNSkge1xuICAgICAgdGhpcy5uZXh0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgdGhpcy5sYXN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoaXNNZWRpdW1TY3JlZW4gJiYgdGhpcy5wYWdlTnVtID09PSA3KSB7XG4gICAgICB0aGlzLm5leHRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICB0aGlzLmxhc3RCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICghaXNNZWRpdW1TY3JlZW4gJiYgdGhpcy5wYWdlTnVtID09PSA1KSB7XG4gICAgICB0aGlzLm5leHRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICB0aGlzLmxhc3RCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV4dEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgIHRoaXMubGFzdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gIH1cblxuICBnb1RvTGFzdFBhZ2UoKSB7XG4gICAgY29uc3QgaXNNZWRpdW1TY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEyNTBweClcIikubWF0Y2hlcztcbiAgICBjb25zdCBpc1NtYWxsU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA3NjdweClcIikubWF0Y2hlcztcbiAgICBpc1NtYWxsU2NyZWVuXG4gICAgICA/IHRoaXMuZ29Ub1BhZ2UoMTUpXG4gICAgICA6IGlzTWVkaXVtU2NyZWVuXG4gICAgICA/IHRoaXMuZ29Ub1BhZ2UoNylcbiAgICAgIDogdGhpcy5nb1RvUGFnZSg1KTtcbiAgfVxuXG4gIGdvVG9QYWdlKHBhZ2UpIHtcbiAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlO1xuXG4gICAgdGhpcy5mclBhZ2UuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB0aGlzLmNyZWF0ZUNhcmRzKHRoaXMuZGl2aWRlZEFycltwYWdlXSk7XG4gICAgdGhpcy5wYWdlSW5kZXgudGV4dENvbnRlbnQgPSBgJHt0aGlzLnBhZ2VOdW0gKyAxfWA7XG4gICAgdGhpcy5ibG9ja0J1dHRvbnMoKTtcbiAgfVxuXG4gIHNldExheW91dFRvV2lkdGgoKSB7XG4gICAgY29uc3QgaXNNZWRpdW1TY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEyNTBweClcIikubWF0Y2hlcztcbiAgICBjb25zdCBpc1NtYWxsU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA3NjdweClcIikubWF0Y2hlcztcbiAgICB0aGlzLnBhZ2VOdW0gPSAwO1xuICAgIHRoaXMuZ2VuZXJhdGVSYW5kb21BcnJheSgpO1xuICAgIGlmIChpc1NtYWxsU2NyZWVuKSB7XG4gICAgICB0aGlzLnJlc3RydWN0dXJlQXJyKDMpO1xuICAgICAgdGhpcy5ibG9ja0J1dHRvbnMoMyk7XG4gICAgICB0aGlzLndpZHRoID0gMztcbiAgICB9IGVsc2UgaWYgKGlzTWVkaXVtU2NyZWVuKSB7XG4gICAgICB0aGlzLnJlc3RydWN0dXJlQXJyKDYpO1xuICAgICAgdGhpcy5ibG9ja0J1dHRvbnMoNik7XG4gICAgICB0aGlzLndpZHRoID0gNjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN0cnVjdHVyZUFycig4KTtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25zKDgpO1xuICAgICAgdGhpcy53aWR0aCA9IDg7XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlQ2FyZHModGhpcy5kaXZpZGVkQXJyWzBdKTtcbiAgfVxuXG4gIGNoYW5nZUxheW91dFRvV2lkdGgoKSB7XG4gICAgY29uc3QgaXNNZWRpdW1TY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEyNTBweClcIikubWF0Y2hlcztcbiAgICBjb25zdCBpc1NtYWxsU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA3NjdweClcIikubWF0Y2hlcztcbiAgICBpZiAoXG4gICAgICAoaXNTbWFsbFNjcmVlbiAmJiB0aGlzLndpZHRoICE9PSAzKSB8fFxuICAgICAgKCFpc01lZGl1bVNjcmVlbiAmJiAhaXNTbWFsbFNjcmVlbiAmJiB0aGlzLndpZHRoICE9PSA4KSB8fFxuICAgICAgKGlzTWVkaXVtU2NyZWVuICYmICFpc1NtYWxsU2NyZWVuICYmIHRoaXMud2lkdGggIT09IDYpXG4gICAgKSB7XG4gICAgICB0aGlzLmZyUGFnZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgaWYgKGlzU21hbGxTY3JlZW4gJiYgdGhpcy53aWR0aCAhPT0gMykge1xuICAgICAgICB0aGlzLndpZHRoID0gMztcbiAgICAgIH0gZWxzZSBpZiAoaXNNZWRpdW1TY3JlZW4gJiYgIWlzU21hbGxTY3JlZW4gJiYgdGhpcy53aWR0aCAhPT0gNikge1xuICAgICAgICB0aGlzLndpZHRoID0gNjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTWVkaXVtU2NyZWVuICYmICFpc1NtYWxsU2NyZWVuICYmIHRoaXMud2lkdGggIT09IDgpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IDg7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc3RydWN0dXJlQXJyKHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5jcmVhdGVDYXJkcyh0aGlzLmRpdmlkZWRBcnJbMF0pO1xuICAgICAgdGhpcy5wYWdlTnVtID0gMDtcbiAgICAgIHRoaXMucGFnZUluZGV4LnRleHRDb250ZW50ID0gYCR7dGhpcy5wYWdlTnVtICsgMX1gO1xuICAgICAgdGhpcy5ibG9ja0J1dHRvbnMoKTtcbiAgICB9XG4gIH1cblxuICByZXN0cnVjdHVyZUFycihwZXJQYWdlKSB7XG4gICAgbGV0IGFyciA9IFtdO1xuICAgIGlmIChwZXJQYWdlICE9PSA4KSB7XG4gICAgICB0aGlzLmdlbmVyYXRlZEFyci5mb3JFYWNoKChlKSA9PiBlLmZvckVhY2goKGkpID0+IGFyci5wdXNoKGkpKSk7XG4gICAgICB0aGlzLmRpdmlkZWRBcnIgPSBbXTtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4ICsgcGVyUGFnZSA8PSBhcnIubGVuZ3RoOyB4ID0geCArIHBlclBhZ2UpIHtcbiAgICAgICAgdGhpcy5kaXZpZGVkQXJyLnB1c2goYXJyLnNsaWNlKHgsIHggKyBwZXJQYWdlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHRoaXMuZGl2aWRlZEFyciA9IHRoaXMuZ2VuZXJhdGVkQXJyO1xuICAgIGNvbnNvbGUubG9nKFwiZGl2aWRlZCBhcnJheSBmb3IgY2VydGFpbiB3aWR0aFwiKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmRpdmlkZWRBcnIpO1xuICB9XG5cbiAgY3JlYXRlQnV0dG9uKG5hbWUpIHtcbiAgICBjb25zdCBidHRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBidHRuLmNsYXNzTGlzdC5hZGQoXCJidXR0b25cIiwgXCJmcmllbmRzLXBhZ2VfX2J1dHRvblwiKTtcbiAgICBidHRuLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICByZXR1cm4gYnR0bjtcbiAgfVxuXG4gIGNyZWF0ZUNhcmRzKGFycikge1xuICAgIGFyci5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBjb25zdCBwZXQgPSB0aGlzLmFuaW1hbHNBcnJbZV07XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQocGV0KTtcbiAgICAgIHRoaXMuZnJQYWdlLmFwcGVuZChjYXJkLmNvbnRhaW5lcik7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZVJhbmRvbUFycmF5KCkge1xuICAgIGxldCBudW1zID0gdGhpcy5zaHVmZmxlQXJyYXkoWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddKTtcbiAgICBsZXQgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgIGNvbnN0IHJlcGxhY2VkRWwgPSBudW1zLnNoaWZ0KCk7XG4gICAgICBudW1zLnB1c2gocmVwbGFjZWRFbCk7XG4gICAgICBjb25zdCB0ZW1wID0gQXJyYXkuZnJvbShudW1zKTtcblxuICAgICAgYXJyLnB1c2godGVtcCk7XG4gICAgfVxuICAgIHRoaXMuZ2VuZXJhdGVkQXJyID0gYXJyO1xuICAgIGNvbnNvbGUubG9nKFwiZ2VuZXJhdGVkIGFycmF5IGZvciBhbnkgd2lkdGhcIik7XG4gICAgY29uc29sZS5sb2codGhpcy5nZW5lcmF0ZWRBcnIpO1xuICB9XG5cbiAgc2h1ZmZsZUFycmF5KGFycikge1xuICAgIHJldHVybiBhcnIuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5hdiIsImNvbnRhaW5lciIsImJ1cmdlckljb24iLCJidXJnZXJDb250YWluZXIiLCJidXJnZXJNZW51IiwiZGFya0JhY2tncm91bmQiLCJsaW5rc0FycmF5IiwiaXNTbWFsbFNjcmVlbiIsImNvbnN0cnVjdG9yIiwiaXNMaWdodCIsImFjdGl2ZVBhZ2UiLCJsaW5rQWJvdXQiLCJsaW5rUGV0cyIsImxpbmtIZWxwIiwidGhpcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNyZWF0ZUxpbmsiLCJsaW5rQ29udGFjdHMiLCJzZXRMYXlvdXRUb1dpZHRoIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRleHQiLCJsaW5rIiwiaXNBY3RpdmUiLCJsaW5rSXRlbSIsInRleHRDb250ZW50Iiwic2V0QXR0cmlidXRlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VCdXJnZXIiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJyZXBsYWNlIiwiaXNsaWdodCIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvcGVuQ2xvc2VCdXJnZXIiLCJpbm5lckhUTUwiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImNyZWF0ZUljb24iLCJhcHBlbmQiLCJmb3JFYWNoIiwiY29udGFpbnMiLCJvcGVuQnVyZ2VyIiwiYm9keSIsInN0eWxlIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsIndpZHRoIiwiaSIsImxpbmUiLCJDYXJkIiwiZGFya0JHIiwicGV0T2JqIiwicG9wdXAiLCJzY3JvbGwiLCJjYXJkSW1nIiwiaW1nIiwibmFtZSIsImNhcmROYW1lIiwiY2FyZEJ1dHRvbiIsIm9wZW5Qb3B1cCIsImNyZWF0ZVBvcHVwIiwic3RvcFByb3BhZ2F0aW9uIiwicG9wdXBDb250YWluZXIiLCJjbG9zZUJ0dG4iLCJjbG9zZVBvcHVwIiwidGl0bGUiLCJzdWJ0aXRsZSIsInR5cGUiLCJicmVlZCIsImRlc2NyaXB0aW9uIiwibGlzdCIsImFnZSIsImNyZWF0ZUxpc3RJdGVtIiwiaW5vY3VsYXRpb25zIiwiZGlzZWFzZXMiLCJwYXJhc2l0ZXMiLCJzY3JvbGxZIiwidG9wIiwiY2hpbGRyZW4iLCJzY3JvbGxCZWhhdmlvciIsInNjcm9sbFRvIiwiaW5mbyIsIml0ZW0iLCJzcGFuIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsInF1ZXJ5U2VsZWN0b3IiLCJoZWFkZXIiLCJsb2dvIiwibG9nb1RpdGxlIiwibG9nb1RleHQiLCJuYXYiLCJub3RPbmx5QmxvY2siLCJub3RPbmx5Q29udGFpbmVyIiwibm90T25seVRpdGxlIiwibm90T25seVRleHQiLCJub3RPbmx5QnV0dG9uIiwibm90T25seUltZyIsImFwcGVuZENoaWxkIiwiZm9vdGVyIiwiZm9vdGVyV3JhcCIsImZvb3RlckltZyIsImZpcnN0QmxvY2siLCJzZWNvbmRCbG9jayIsImZpcnN0VGl0bGUiLCJlbWFpbCIsImVtYWlsSW1nIiwiZW1haWxMaW5rIiwicGhvbmUiLCJwaG9uZUltZyIsInBob25lTGluayIsInNlY29uZFRpdGxlIiwibG9jRmlyc3QiLCJsb2NGaXJzdEltZyIsImxvY0ZpcnN0TGluayIsImxvY1NlY29uZCIsImxvY1NlY29uZEltZyIsImxvY1NlY29uZExpbmsiLCJmcmllbmRzIiwiZmlyc3RCdXR0b24iLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImxhc3RCdXR0b24iLCJwYWdlSW5kZXgiLCJhbmltYWxzQXJyIiwiZnJQYWdlIiwiZ2VuZXJhdGVkQXJyIiwiZGl2aWRlZEFyciIsInBhZ2VOdW0iLCJmckNvbnRhaW5lciIsImZyVGl0bGUiLCJmck5hdiIsImNyZWF0ZUJ1dHRvbiIsImNoYW5nZUxheW91dFRvV2lkdGgiLCJnb1RvUGFnZSIsImdvVG9MYXN0UGFnZSIsImJsb2NrQnV0dG9ucyIsImlzTWVkaXVtU2NyZWVuIiwicmVtb3ZlQXR0cmlidXRlIiwicGFnZSIsImNyZWF0ZUNhcmRzIiwiZ2VuZXJhdGVSYW5kb21BcnJheSIsInJlc3RydWN0dXJlQXJyIiwicGVyUGFnZSIsImFyciIsInB1c2giLCJ4IiwibGVuZ3RoIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIiwiYnR0biIsInBldCIsImNhcmQiLCJudW1zIiwic2h1ZmZsZUFycmF5IiwicmVwbGFjZWRFbCIsInNoaWZ0IiwidGVtcCIsImZyb20iLCJzb3J0IiwiTWF0aCIsInJhbmRvbSJdLCJzb3VyY2VSb290IjoiIn0=